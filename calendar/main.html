<!DOCTYPE html>
<html>
  <head>
    <title>Isaacs JavaScript Calender</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script>
      var date = new Date();
      y = date.getFullYear();
      m = date.getMonth();
      var firstDayOfTheMonth = new Date(y, m, 1);
      var lastDayOfTheMonth = new Date(y, m + 1, 0);
      var offset = firstDayOfTheMonth.getDay();
      var dayOnTheGrid = offset + date.getDate();

      ////

      function monthIncrement() {
        m++;
        dateIntegerExtractor(m);
      }

      ////

      function monthDecrement() {
        m--;
        dateIntegerExtractor(m);
      }

      ////

      function dateIntegerExtractor(m) {
        var firstDayOfTheMonth = new Date(y, m, 1);
        var lastDayOfTheMonth = new Date(y, m + 1, 0);
        var offset = firstDayOfTheMonth.getDay();
        var dayOnTheGrid = offset + date.getDate();
        var adjustableDate = new Date(2020, m);
        var month = adjustableDate.toLocaleString("default", { month: "long" });
        document.getElementById("month").innerHTML = month;
        calenderPopulator(
          m,
          dayOnTheGrid,
          firstDayOfTheMonth,
          lastDayOfTheMonth
        );
      }

      ////

      function initialPageLoad() {
        var date = new Date();
        m = date.getMonth();
        dateIntegerExtractor();
        var weekDays = new Array(
          "Sunday",
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday",
          "Saturday"
        );
        for (i = 0; i <= 6; i++) {
          document.getElementById("ans").innerHTML = weekDays
            .map(
              (weekDay) =>
                `<div class="week-day-container" id=${weekDay}>${weekDay}</div>`
            )
            .join("");
        }
        var month = date.toLocaleString("default", { month: "long" });
        document.getElementById("month").innerHTML = month;
        calenderPopulator(
          m,
          dayOnTheGrid,
          firstDayOfTheMonth,
          lastDayOfTheMonth
        );
      }

      ////

      function calenderPopulator(
        m,
        dayOnTheGrid,
        firstDayOfTheMonth,
        lastDayOfTheMonth
      ) {
        var date = new Date();
        currentMonth = date.getMonth();
        var ids = new Array();
        for (var i = 1; i <= 35; i++) {
          ids.push(i);
        }
        document.getElementById("griddies").innerHTML = ids
          .map((id) =>
            id == dayOnTheGrid && m == currentMonth
              ? `<div class="my-date" id=${id - 3 < 1 ? (id = null) : id - 3}>${
                  id - 3 < 1 || id - 3 > lastDayOfTheMonth.getDate()
                    ? (id = null)
                    : id - 3
                }</div>`
              : `<div class="grid-item" id=${
                  id - 3 < 1 ? (id = null) : id - 3
                }>${
                  id - 3 < 1 || id - 3 > lastDayOfTheMonth.getDate()
                    ? (id = "")
                    : id - 3
                }</div>`
          )
          .join("");
      }

      ////

      window.onclick = (e) => {
        if (e.target.classList.contains("grid-item")) {
          document;
          e.target.classList.toggle("selected-square");
        }

        console.log(e.target);
        console.log(e.target.id, " -->", e.target.innerHTML);
      };
    </script>
  </head>
  <!-- ************************* -->
  <body onload="initialPageLoad()">
    <div class="header" id="month"></div>
    <div class="grid-container" id="ans"></div>
    <div class="grid-container" id="griddies"></div>
    <a href="#" class="previous round" onclick="monthDecrement()">&#8249;</a>
    <a href="#" class="next round" onclick="monthIncrement()">&#8250;</a>
  </body>
</html>
